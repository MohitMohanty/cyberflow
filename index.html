<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cybersecurity Attack Flow - Neural Network Style</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            overflow: hidden;
            height: 100vh;
            position: relative;
        }
        
        .neural-container {
            width: 100vw;
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .network-svg {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }
        
        .connection-line {
            stroke: #64b5f6;
            stroke-width: 3;
            opacity: 0.4;
            fill: none;
            filter: drop-shadow(0 0 5px #64b5f6);
            transition: all 0.6s ease;
            stroke-dasharray: 8, 4;
        }
        
        .connection-line.active {
            opacity: 1;
            stroke-width: 5;
            stroke: #ff4081;
            filter: drop-shadow(0 0 15px #ff4081);
            animation: pulseConnection 1.5s ease-in-out;
        }
        
        @keyframes pulseConnection {
            0%, 100% { stroke-width: 5; opacity: 1; }
            50% { stroke-width: 7; opacity: 0.8; }
        }
        
        .data-flow {
            fill: #ff4081;
            r: 6;
            opacity: 0;
            filter: drop-shadow(0 0 8px #ff4081);
        }
        
        .data-flow.flowing {
            opacity: 1;
            animation: dataFlow 2s ease-in-out;
        }
        
        @keyframes dataFlow {
            0% { r: 3; opacity: 0; }
            20% { r: 6; opacity: 1; }
            80% { r: 6; opacity: 1; }
            100% { r: 3; opacity: 0; }
        }
        
        .neural-node {
            position: absolute;
            width: 300px;
            height: 320px;
            border-radius: 20px;
            background: linear-gradient(145deg, rgba(255,255,255,0.95), rgba(240,248,255,0.95));
            border: 3px solid #42a5f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            transition: all 0.6s cubic-bezier(0.4, 0.0, 0.2, 1);
            z-index: 10;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(66,165,245,0.3);
            opacity: 0.7;
            transform: scale(0.9);
            color: #1565c0;
            padding: 20px;
        }
        
        .neural-node.active {
            opacity: 1;
            transform: scale(1.05);
            border-color: #ff4081;
            background: linear-gradient(145deg, rgba(255,255,255,1), rgba(255,240,245,0.98));
            box-shadow: 0 15px 50px rgba(255,64,129,0.4);
            color: #c2185b;
        }
        
        .neural-node:hover {
            transform: scale(1.08);
            border-color: #ffa726;
            box-shadow: 0 20px 60px rgba(255,167,38,0.4);
            color: #f57c00;
        }
        
        .node-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            width: 100%;
        }
        
        .node-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #42a5f5, #1976d2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-right: 15px;
            box-shadow: 0 4px 15px rgba(66,165,245,0.4);
            position: relative;
            overflow: hidden;
        }
        
        .neural-node.active .node-icon {
            background: linear-gradient(135deg, #ff4081, #c2185b);
            box-shadow: 0 4px 15px rgba(255,64,129,0.4);
            animation: iconPulse 2s ease-in-out infinite;
        }
        
        @keyframes iconPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .node-number {
            background: linear-gradient(135deg, #ffa726, #f57c00);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            box-shadow: 0 3px 10px rgba(255,167,38,0.4);
        }
        
        .node-title {
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 12px;
            line-height: 1.2;
        }
        
        .node-description {
            font-size: 14px;
            text-align: center;
            line-height: 1.4;
            margin-bottom: 15px;
            opacity: 0.9;
        }
        
        .node-details {
            background: rgba(66,165,245,0.1);
            border-radius: 10px;
            padding: 12px;
            font-size: 12px;
            line-height: 1.3;
            text-align: left;
            width: 100%;
            border-left: 4px solid #42a5f5;
        }
        
        .neural-node.active .node-details {
            background: rgba(255,64,129,0.1);
            border-left-color: #ff4081;
        }
        
        .demo-badge {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #ff4081, #e91e63);
            color: white;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 12px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255,64,129,0.4);
            animation: demoPulse 2s infinite ease-in-out;
            text-transform: uppercase;
            letter-spacing: 1px;
            white-space: nowrap;
        }
        
        @keyframes demoPulse {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.15); }
        }
        
        /* Node positioning - Better distributed and moved away from control panel */
        .node-1 { top: 15%; left: 5%; }
        .node-2 { top: 5%; left: 35%; }
        .node-3 { top: 25%; left: 58%; }
        .node-4 { top: 55%; left: 35%; }
        .node-5 { top: 65%; left: 12%; }
        
        /* Control panel */
        .control-panel {
            position: fixed;
            top: 30px;
            right: 30px;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(15px);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 100;
            color: #1565c0;
            min-width: 200px;
        }
        
        .control-title {
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 10px;
            color: #1565c0;
        }
        
        .control-btn {
            background: linear-gradient(135deg, #42a5f5, #1976d2);
            border: none;
            border-radius: 10px;
            padding: 12px 16px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 14px;
            box-shadow: 0 4px 15px rgba(66,165,245,0.3);
        }
        
        .control-btn:hover {
            background: linear-gradient(135deg, #1976d2, #0d47a1);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(66,165,245,0.4);
        }
        
        .control-btn.active {
            background: linear-gradient(135deg, #ff4081, #c2185b);
            box-shadow: 0 4px 15px rgba(255,64,129,0.4);
        }
        
        /* Information panel */
        .info-panel {
            position: relative;
            bottom: 250px;
            left: 500px;
            right: 30px;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(15px);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
            z-index: 100;
            color: #1565c0;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .info-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #1565c0;
        }
        
        .info-step {
            font-size: 16px;
            color: #42a5f5;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .info-description {
            font-size: 15px;
            line-height: 1.5;
            color: #37474f;
            margin-bottom: 15px;
        }
        
        .progress-container {
            width: 100%;
            height: 8px;
            background: rgba(66,165,245,0.2);
            border-radius: 4px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #42a5f5, #ff4081);
            border-radius: 4px;
            width: 20%;
            transition: all 0.8s cubic-bezier(0.4, 0.0, 0.2, 1);
            box-shadow: 0 0 10px rgba(66,165,245,0.5);
        }
        
        /* Responsive design */
        @media (max-width: 1024px) {
            .neural-node {
                width: 200px;
                height: 280px;
                padding: 15px;
            }
            
            .node-icon {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .node-title {
                font-size: 16px;
            }
            
            .node-description {
                font-size: 12px;
            }
        }
        
        @media (max-width: 768px) {
            .neural-node {
                position: relative !important;
                width: 90%;
                max-width: 350px;
                margin: 20px auto;
                top: auto !important;
                left: auto !important;
            }
            
            .neural-container {
                flex-direction: column;
                overflow-y: auto;
                overflow-x: hidden;
                height: auto;
                min-height: 100vh;
                padding: 20px 0;
            }
            
            .network-svg {
                display: none;
            }
            
            .control-panel {
                position: relative;
                top: auto;
                right: auto;
                margin: 20px auto;
                flex-direction: row;
                justify-content: center;
                order: -1;
            }
            
            .info-panel {
                position: relative;
                bottom: auto;
                left: auto;
                right: auto;
                margin: 20px;
                order: 10;
            }
        }
    </style>
</head>
<body>
    <!-- Neural network container -->
    <div class="neural-container">
        <!-- SVG for connections -->
        <svg class="network-svg" id="networkSvg">
            <!-- Connections will be dynamically created here -->
        </svg>
        
        <!-- Neural nodes with detailed descriptions -->
        <div class="neural-node node-1 active" data-step="1">
            <div class="demo-badge">In House Cyber Range</div>
            <div class="node-header">
                <div class="node-icon">🔧</div>
                <div class="node-number">1</div>
            </div>
            <div class="node-title">Social Engineering Attack</div>
            <div class="node-description">
                Attacker sends convincing phishing email to target victim
            </div>
            <div class="node-details">
                <strong>What happens:</strong><br>
                • Crafted phishing email sent<br>
                • Contains malicious PDF attachment<br>
                • Appears legitimate to victim<br>
                • Targets Windows 10 systems
            </div>
        </div>
        
        <div class="neural-node node-2" data-step="2">
            <div class="demo-badge">PDF Exploit</div>
            <div class="node-header">
                <div class="node-icon">📄</div>
                <div class="node-number">2</div>
            </div>
            <div class="node-title">Malicious PDF Execution</div>
            <div class="node-description">
                Victim opens PDF, triggering the malicious payload
            </div>
            <div class="node-details">
                <strong>Attack sequence:</strong><br>
                • PDF exploits system vulnerability<br>
                • Meterpreter reverse shell deployed<br>
                • Connection established to attacker<br>
                • System now compromised
            </div>
        </div>
        
        <div class="neural-node node-3" data-step="3">
            <div class="node-header">
                <div class="node-icon">🔍</div>
                <div class="node-number">3</div>
            </div>
            <div class="node-title">Detection & Monitoring</div>
            <div class="node-description">
                Security systems detect suspicious activity
            </div>
            <div class="node-details">
                <strong>Detection tools:</strong><br>
                • Wazuh SIEM alerts triggered<br>
                • ELK Stack logs anomalies<br>
                • Network traffic monitored<br>
                • Process execution tracked
            </div>
        </div>
        
        <div class="neural-node node-4" data-step="4">
            <div class="node-header">
                <div class="node-icon">🚨</div>
                <div class="node-number">4</div>
            </div>
            <div class="node-title">Incident Response</div>
            <div class="node-description">
                Security team responds to contain the threat
            </div>
            <div class="node-details">
                <strong>Response actions:</strong><br>
                • Isolate compromised system<br>
                • Terminate meterpreter sessions<br>
                • Block malicious PDF/site<br>
                • Collect forensic evidence
            </div>
        </div>
        
        <div class="neural-node node-5" data-step="5">
            <div class="node-header">
                <div class="node-icon">🛠️</div>
                <div class="node-number">5</div>
            </div>
            <div class="node-title">Recovery & Prevention</div>
            <div class="node-description">
                System restored and security enhanced
            </div>
            <div class="node-details">
                <strong>Recovery steps:</strong><br>
                • System cleaned and restored<br>
                • Security patches applied<br>
                • PDF security controls added<br>
                • Staff training conducted
            </div>
        </div>
    </div>
    
    <!-- Control panel -->
    <div class="control-panel">
        <div class="control-title">🎮 Controls</div>
        <button class="control-btn" id="autoFlow">▶️ Start Auto Flow</button>
        <button class="control-btn" id="speedBtn">⚡ Normal Speed</button>
        <button class="control-btn" id="resetBtn">🔄 Reset</button>
    </div>
    
    <!-- Information panel -->
    <div class="info-panel">
        <div class="info-title" id="infoTitle">Cybersecurity Attack Flow Analysis</div>
        <div class="info-step" id="infoStep">Step 1 of 5: Social Engineering Phase</div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="info-description" id="infoDescription">
            The attack begins when a cybercriminal crafts a convincing phishing email containing a malicious PDF. This PDF is specifically designed to exploit vulnerabilities in Windows 10 systems and establish a reverse meterpreter shell connection back to the attacker's machine.
        </div>
    </div>

    <script>
        // Network connections configuration
        const connections = [
            { from: 1, to: 2 },
            { from: 2, to: 3 },
            { from: 3, to: 4 },
            { from: 4, to: 5 },
            { from: 5, to: 1 } // Cycle back for continuous monitoring
        ];
        
        // Detailed information for each step
        const stepInfo = {
            1: {
                title: "Social Engineering Attack Phase",
                step: "Step 1 of 5: Initial Attack Vector",
                description: "The attack begins when a cybercriminal crafts a convincing phishing email containing a malicious PDF. This PDF is specifically designed to exploit vulnerabilities in Windows 10 systems and establish a reverse meterpreter shell connection back to the attacker's machine."
            },
            2: {
                title: "Malicious Payload Execution",
                step: "Step 2 of 5: System Compromise",
                description: "When the victim opens the PDF document, it triggers a carefully crafted exploit that takes advantage of system vulnerabilities. The payload establishes a meterpreter reverse shell, giving the attacker remote access to the compromised Windows 10 system."
            },
            3: {
                title: "Security Detection & Analysis",
                step: "Step 3 of 5: Threat Identification",
                description: "Advanced security monitoring tools like Wazuh SIEM and ELK Stack detect the suspicious activity. Anomalous network connections, unusual process execution, and system modifications trigger security alerts, identifying the potential breach."
            },
            4: {
                title: "Incident Response Protocol",
                step: "Step 4 of 5: Threat Containment",
                description: "The security team immediately responds to contain the threat. They isolate the compromised system, terminate active meterpreter sessions, block the malicious PDF and phishing site, and begin collecting forensic evidence for analysis."
            },
            5: {
                title: "System Recovery & Hardening",
                step: "Step 5 of 5: Security Enhancement",
                description: "After neutralizing the threat, the system is cleaned and restored from secure backups. Security patches are applied, enhanced PDF security controls are implemented, and staff receive additional cybersecurity training to prevent future attacks."
            }
        };
        
        let currentStep = 1;
        let isAutoFlow = false;
        let autoInterval;
        let flowSpeed = 3000; // 3 seconds - easier to change here
        
        // Create neural network connections
        function createConnections() {
            const svg = document.getElementById('networkSvg');
            svg.innerHTML = ''; // Clear existing connections
            
            connections.forEach((conn, index) => {
                const fromNode = document.querySelector(`[data-step="${conn.from}"]`);
                const toNode = document.querySelector(`[data-step="${conn.to}"]`);
                
                if (fromNode && toNode) {
                    const fromRect = fromNode.getBoundingClientRect();
                    const toRect = toNode.getBoundingClientRect();
                    
                    const x1 = fromRect.left + fromRect.width / 2;
                    const y1 = fromRect.top + fromRect.height / 2;
                    const x2 = toRect.left + toRect.width / 2;
                    const y2 = toRect.top + toRect.height / 2;
                    
                    // Create curved path for better visual flow
                    const midX = (x1 + x2) / 2;
                    const midY = (y1 + y2) / 2;
                    const curveOffset = Math.random() > 0.5 ? 80 : -80;
                    
                    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                    path.setAttribute('d', `M ${x1} ${y1} Q ${midX + curveOffset} ${midY + curveOffset} ${x2} ${y2}`);
                    path.setAttribute('class', 'connection-line');
                    path.setAttribute('data-connection', `${conn.from}-${conn.to}`);
                    
                    svg.appendChild(path);
                    
                    // Add data flow indicator
                    const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    circle.setAttribute('class', 'data-flow');
                    circle.setAttribute('data-flow', `${conn.from}-${conn.to}`);
                    svg.appendChild(circle);
                }
            });
        }
        
        // Update the current active step
        function updateStep(step) {
            // Remove active states
            document.querySelectorAll('.neural-node').forEach(node => node.classList.remove('active'));
            document.querySelectorAll('.connection-line').forEach(line => line.classList.remove('active'));
            
            // Activate current node
            const currentNode = document.querySelector(`[data-step="${step}"]`);
            if (currentNode) {
                currentNode.classList.add('active');
                
                // Scroll to active node on mobile
                if (window.innerWidth <= 768) {
                    currentNode.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
            
            // Activate connections leading to this step
            const incomingConnection = connections.find(conn => conn.to === step);
            if (incomingConnection) {
                const connectionLine = document.querySelector(`[data-connection="${incomingConnection.from}-${incomingConnection.to}"]`);
                if (connectionLine) {
                    connectionLine.classList.add('active');
                    
                    // Animate data flow
                    const dataFlow = document.querySelector(`[data-flow="${incomingConnection.from}-${incomingConnection.to}"]`);
                    if (dataFlow) {
                        animateDataFlow(connectionLine, dataFlow);
                    }
                }
            }
            
            // Update information panel
            if (stepInfo[step]) {
                document.getElementById('infoTitle').textContent = stepInfo[step].title;
                document.getElementById('infoStep').textContent = stepInfo[step].step;
                document.getElementById('infoDescription').textContent = stepInfo[step].description;
            }
            
            // Update progress bar
            const progress = (step / 5) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            currentStep = step;
        }
        
        // Animate data flow along connection
        function animateDataFlow(path, circle) {
            const pathLength = path.getTotalLength();
            circle.classList.add('flowing');
            
            let progress = 0;
            const duration = 1800;
            const startTime = Date.now();
            
            function animate() {
                const elapsed = Date.now() - startTime;
                progress = Math.min(elapsed / duration, 1);
                
                const point = path.getPointAtLength(progress * pathLength);
                circle.setAttribute('cx', point.x);
                circle.setAttribute('cy', point.y);
                
                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    setTimeout(() => circle.classList.remove('flowing'), 200);
                }
            }
            
            animate();
        }
        
        // Auto flow functions
        function startAutoFlow() {
            if (isAutoFlow) return;
            
            isAutoFlow = true;
            document.getElementById('autoFlow').textContent = '⏸️ Pause Flow';
            document.getElementById('autoFlow').classList.add('active');
            
            autoInterval = setInterval(() => {
                if (currentStep >= 5) {
                    currentStep = 1;
                } else {
                    currentStep++;
                }
                updateStep(currentStep);
            }, flowSpeed);
        }
        
        function stopAutoFlow() {
            if (!isAutoFlow) return;
            
            isAutoFlow = false;
            document.getElementById('autoFlow').textContent = '▶️ Start Auto Flow';
            document.getElementById('autoFlow').classList.remove('active');
            clearInterval(autoInterval);
        }
        
        function toggleAutoFlow() {
            if (isAutoFlow) {
                stopAutoFlow();
            } else {
                startAutoFlow();
            }
        }
        
        function resetFlow() {
            stopAutoFlow();
            updateStep(1);
        }
        
        function changeSpeed() {
            const speedBtn = document.getElementById('speedBtn');
            
            if (flowSpeed === 3000) {
                flowSpeed = 1500;
                speedBtn.textContent = '🚀 Fast Speed';
            } else if (flowSpeed === 1500) {
                flowSpeed = 5000;
                speedBtn.textContent = '🌐 Slow Speed';
            } else {
                flowSpeed = 3000;
                speedBtn.textContent = '⚡ Normal Speed';
            }
            
            // Restart auto flow with new speed if it was running
            if (isAutoFlow) {
                stopAutoFlow();
                startAutoFlow();
            }
        }
        
        // Event listeners
        document.getElementById('autoFlow').addEventListener('click', toggleAutoFlow);
        document.getElementById('resetBtn').addEventListener('click', resetFlow);
        document.getElementById('speedBtn').addEventListener('click', changeSpeed);
        
        // Node click handlers
        document.querySelectorAll('.neural-node').forEach(node => {
            node.addEventListener('click', () => {
                stopAutoFlow();
                const step = parseInt(node.getAttribute('data-step'));
                updateStep(step);
            });
        });
        
        // Keyboard controls
        document.addEventListener('keydown', (e) => {
            if (e.key === ' ') {
                e.preventDefault();
                toggleAutoFlow();
            } else if (e.key === 'r' || e.key === 'R') {
                resetFlow();
            } else if (e.key === 'ArrowRight' && currentStep < 5) {
                stopAutoFlow();
                updateStep(currentStep + 1);
            } else if (e.key === 'ArrowLeft' && currentStep > 1) {
                stopAutoFlow();
                updateStep(currentStep - 1);
            }
        });
        
        // Initialize
        setTimeout(() => {
            createConnections();
            updateStep(1);
        }, 100);
        
        // Recreate connections on window resize
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                if (window.innerWidth > 768) {
                    createConnections();
                }
            }, 250);
        });
    </script>
</body>
</html>
